\documentclass[11pt,fleqn]{article}

  \usepackage{330-f12}

  \psset{unit=1mm,levelsep=10,treesep=8,nodesep=1}

  \hideinfo

  \pagestyle{empty}

\begin{document}

  \header{\course}{Quiz \#4-- solutions}{\Term}

  \vspace{-.5mm}

  \begin{enumerate}

    \addtolength{\itemsep}{20mm}

    \item {[12 pts.]}

          \begin{tabular}[t]{l}

            \texttt{jack = ref "Jack"}
              \\

            \texttt{queen = ref "Ace"}
              \\

            \texttt{king = ref "King"}
              \\

            \texttt{ace = ref "Queen"}
              \\

          \end{tabular}

          \begin{info}{\textbf{\underline{Grading scale:}}}

            \begin{itemize}

              \addtolength{\itemsep}{2mm}

              \item Deduct \pts{-2} for each incorrect answer, so the
                    minimum is \pts{4} for a completely--wrong answer (only
                    a completely blank missing would be no credit)

              \item The \texttt{ref} keyword isn't necessary.

            \end{itemize}

          \end{info}

    \item {[18 pts.]}

          \vspace{-1mm}

          \begin{enumerate}

            \addtolength{\itemsep}{6mm}

            \item \(
                    \left\{ \,
                      a^mb^mc^nd^n \midspc m, n \ge 0  \,
                    \right\}
                    \ \union \
                    \left\{  \,
                      a^nb^mc^md^n \midspc m, n \ge 0  \,
                    \right\}
                  \)

                  \begin{info}{\textbf{\underline{Grading scale:}}}

                    \begin{itemize}

                      \addtolength{\itemsep}{2mm}

                      \item Each set in the union is \pts[circle]{4}:

                            \vspace{1mm}

                            \begin{itemize}

                              \addtolength{\itemsep}{-.5mm}

                              \item Deduct \pts{-1} for a minor error in a
                                    exponent or elsewhere.

                              \item Deduct \pts{-2} if some exponents
                                    or characters are wrong.

                              \item Deduct \pts{-4} if both the characters
                                    and exponents are wrong.

                            \end{itemize}

                            \vspace{0mm}

                    \end{itemize}

                  \end{info}

            \item Some example strings are the empty string, \emph{abcd} or
                  \emph{aabbccdd} (any string where $m = n$).

                  \begin{info}{\textbf{\underline{Grading scale:}}}

                    I'm not seeing any cases where partial credit would be
                    justified (answers should either be right or not) If you
                    think that any answers should get less partial credit
                    then be sure to coordinate (via email) with the other
                    TAs grading the quiz, for consistency of grading (so
                    that everyone can deduct the same credit for the same
                    mistake, for all sections).  If you're not sure, email
                    all the TAs grading the quiz.  You can also ask me if
                    you all can't agree.

                  \end{info}

            \item Here is an answer assuming the answer to part (b) was
                  \emph{abcd}.  \textbf{Note}: this problem asked for a
                  \textbf{derivation}.  Ambiguity can be demonstrate by
                  showing two parse trees for the same string in a
                  grammar, but that is \textbf{not} what this question asks
                  for.  (It is partly testing knowledge of derivations.)

                  \begin{center}

                    \renewcommand{\arraystretch}{2}

                    \(
                      \begin{array}[t]{@{}l}
                      \mathrm{\underline{S} \
                              \Longrightarrow\ \
                              \underline{T}U \
                              \Longrightarrow\ \
                              \mathit{a}\underline{T}\mathit{b}U \
                              \Longrightarrow\ \
                              \mathit{ab}\underline{U} \
                              \Longrightarrow\ \
                              \mathit{abc}\underline{U}\mathit{d} \
                              \Longrightarrow\ \
                              \mathit{abcd}}
                        \\
                      \mathrm{\underline{S} \
                              \Longrightarrow\ \underline{V} \
                              \Longrightarrow\ \
                              \mathit{a}\underline{V}\mathit{d} \
                              \Longrightarrow\ \
                              \mathit{a}\underline{W}\mathit{d} \
                              \Longrightarrow\ \
                              \mathit{ab}\underline{W}\mathit{cd} \
                              \Longrightarrow\ \
                              \mathit{abcd}}
                        \\
                      \end{array}
                    \)

                  \end{center}

                  \begin{info}{\textbf{\underline{Grading scale:}}}

                    \begin{itemize}

                      \addtolength{\itemsep}{2mm}

                      \item Each derivation is \pts[circle]{4}:

                            \vspace{1mm}

                            \begin{itemize}

                              \addtolength{\itemsep}{-.5mm}

                              \item Deduct \pts{-1} for missing an
                                    intermediate step.

                              \item Deduct \pts{-2} if the answer is only
                                    vaguely correct.

                              \item Deduct \pts{-4} if the answer is
                                    completely wrong.

                            \end{itemize}

                            \vspace{-2.5mm}

                      \item Deduct \pts{-2} if the answer showed ambiguity
                            by giving two (mostly correct) parse trees
                            rather than derivations.

                    \end{itemize}

                  \end{info}

          \end{enumerate}

          \vspace{-2.5mm}

    \item {[10 pts.]} Two different answers exist because the grammar is
          ambiguous, so either of these would be correct:

          \begin{multicols}{2}

            \centering

            \pstree{\TR{E}}{
              \pstree{\TR{T}}{
                \pstree{\TR{1}}{
                }
              }
              \pstree{\TR{$*$}}{
              }
              \pstree{\TR{E}}{
                \pstree{\TR{E}}{
                  \pstree{\TR{T}}{
                    \pstree{\TR{2}}{
                    }
                  }
                }
                \pstree{\TR{$-$}}{
                }
                \pstree{\TR{T}}{
                  \pstree{\TR{3}}{
                  }
                }
              }
            }

            \pstree{\TR{E}}{
              \pstree{\TR{E}}{
                \pstree{\TR{T}}{
                  \pstree{\TR{1}}{
                  }
                }
                \pstree{\TR{$*$}}{
                }
                \pstree{\TR{E}}{
                  \pstree{\TR{T}}{
                    \pstree{\TR{2}}{
                    }
                  }
                }
              }
              \pstree{\TR{$-$}}{
              }
              \pstree{\TR{T}}{
                \pstree{\TR{3}}{
                }
              }
            }

          \end{multicols}

          \begin{info}{\textbf{\underline{Grading scale:}}}

            \begin{itemize}

              \addtolength{\itemsep}{3mm}

              \item Deduct \pts{-1} for each individual error.

              \item Deduct \pts{-5} if the answer is an abstract syntax tree
                    (a mostly correct one).

            \end{itemize}

          \end{info}

  \end{enumerate}

\end{document}
